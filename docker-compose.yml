version: '3'
services:
  jenkins_master:
    image: 'jenkins/jenkins:2.147'
    ports:
     - '3200:8080'
     - '50000:50000'
    volumes:
     - './jenkins_home:/var/jenkins_home'
  gitlab:
    image: 'gitlab/gitlab-ce:11.3.6-ce.0'
    ports:
      - '3380:80'
      - '33443:443'
      - '3322:22'
    volumes:
      - 'gitlab_config:/etc/gitlab'
      - 'gitlab_logs:/var/log/gitlab'
      - 'gitlab_data:/var/opt/gitlab'
volumes:
  gitlab_config:
  gitlab_logs:
  gitlab_data:
